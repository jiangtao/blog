### 代码重复率发现

jscpd 可以快速检测出来代码重复率, 且支持多种语言, 我们可以通过 jscpd 的报告, 来对代码进行治理和收口. 

实际收益: 

1. 对于客户端等可以减少包大小, 包体积
2. 对于Web 端可以减少代码大小, 提高项目加载速度
3. 对于团队协作, 提高代码可维护性

### 治理思考

1. 常规治理手段: 我们可以通过根据现状, 定期观测, 阶段性治理, 最终代码重复率降到一个相对满意的值
2. 非常规手段

针对于存量项目, 代码屎山不好搞, 往往治理成本随着时间推移会越来越高, 因此对于存量态度往往有以下几种

- 不治理: 你不动, 我不动, 项目就不会出问题
- 重构: 定好规范与原则, 结合新的业务需求来一波重构, 重构这些代码的人是值得佩服的.

有没有更好的方案呢, 我们通过 jscpd 发现, jscpd 可以跑出来一些重复的代码, 并告诉我们一些关键信息:

1. 重复代码的文件, 位置, 行数, 重复的内容
2. 重复的代码片段: 不一定是完全的可运行结构体

### 解决方案

1. 将内容给 GPT或相关 AI, 告诉其规则, 让 GPT 帮我们分析出来期望的可提取代码??? 需要探索可行性
2. 根据涉及的代码函数和规则, 提取出可用代码, 需要人工确认?

### 实践

先按照方案 2 实践, 具体技术实现方案

1. 可使用babylon, ast-grep 等方案来解决, 结合 fs 等抽取生成

### 落地方案

- [] jscpd-priority-refactor